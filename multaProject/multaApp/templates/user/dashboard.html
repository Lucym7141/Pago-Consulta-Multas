{% extends "base.html" %}
{% block content %}

<style>

    nav.navbar {
    position: relative;
    z-index: 9999 !important;
}

.header-section::before,
.header-section::after {
    pointer-events: none !important;
}


    .dashboard-container {
        background: #f8f9fa;
        min-height: 100vh;
        padding: 2rem 0;
    }
    
    .dashboard-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        overflow: hidden;
    }
    
   .header-section * {
      position: relative;
      z-index: 1;
    }

    .btn-modern {
     pointer-events: auto !important;
     cursor: pointer !important;
    }

  .btn-secondary-modern {
      text-decoration: none !important;
      display: inline-block;
   } 

   .header-section {
     background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
     color: white;
     padding: 2.5rem;
     border-radius: 20px 20px 0 0;
     position: relative;
      overflow: hidden;
    }

   .header-section::before {
     content: '';
     position: absolute;
     top: -50%;
     right: -9%;
      width: 500px;
     height: 500px;
     background: rgba(255, 255, 255, 0.1);
     border-radius: 50%;
    }

   .header-section::after {
     content: '';
     position: absolute;
     bottom: -30%;
     left: -5%;
      width: 400px;
     height: 400px;
     background: rgba(255, 255, 255, 0.08);
     border-radius: 50%;
   }

   .stat-card {
     background: white;
     border-radius: 15px;
      padding: 1.5rem;
     box-shadow: 0 5px 20px rgba(0,0,0,0.08);
     transition: transform 0.3s ease, box-shadow 0.3s ease;
     border: none;
      position: relative;
     overflow: hidden;
   }

   .stat-card::before {
     content: '';
     position: absolute;
     top: 0;
     left: 0;
     width: 100%;
     height: 4px;
     background: linear-gradient(90deg, #0d6efd 0%, #0b5ed7 100%);
   }

   .stat-card:hover {
     transform: translateY(-5px);
     box-shadow: 0 8px 30px rgba(0,0,0,0.15);
   }

  .stat-icon {
     width: 60px;
     height: 60px;
      border-radius: 50%;
     display: flex;
     align-items: center;
     justify-content: center;
     font-size: 1.8rem;
     margin-bottom: 1rem;
   }

   .stat-icon.total {
     background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
     color: white;
   }

   .stat-icon.pending {
     background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
     color: white;
   }

   .stat-icon.paid {
     background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
     color: white;
   }

  .stat-number {
     font-size: 2.5rem;
     font-weight: 700;
     margin: 0;
     background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
     -webkit-background-clip: text;
     -webkit-text-fill-color: transparent;
     background-clip: text;
    color: transparent;
   }

   .stat-label {
     color: #8492a6;
     font-size: 0.95rem;
      font-weight: 500;
     margin: 0;
   }

  .btn-modern {
      border-radius: 10px;
     padding: 0.7rem 1.5rem;
     font-weight: 600;
     transition: all 0.3s ease;
      border: none;
     box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .btn-modern:hover {
     transform: translateY(-2px);
     box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .btn-primary-modern {
     background: linear-gradient(135deg, #0d6efd 0%, #0b5ed7 100%);
     color: white;
   }  

   .btn-secondary-modern {
     background: white;
     color: #0d6efd;
     border: 2px solid #0d6efd;
   }

   .btn-secondary-modern:hover {
     background: #0d6efd;
     color: white !important;
   }

  .alert-modern {
     background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
     border: none;
     border-radius: 15px;
     padding: 1.5rem;
     border-left: 5px solid #2196f3;
     box-shadow: 0 5px 20px rgba(0,0,0,0.08);
   }

    
  .welcome-text {
     font-size: 2rem;
     font-weight: 700;
     margin: 0;
   }
    
  .subtitle-text {
     opacity: 0.9;
     margin-top: 0.5rem;
    }
    
    .content-section {
     padding: 2rem;
    }

    .no-multas-card {
        background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        border-radius: 15px;
        padding: 3rem 2rem;
        text-align: center;
        border-left: 5px solid #4caf50;
    }
</style>

<div class="dashboard-container">
    <div class="container">
        <div class="dashboard-card">
            <!-- Header mejorado -->
            <div class="header-section">
                <div class="mb-3 mb-md-0">
                    <h2 class="welcome-text">üëã Hola, {{ user.first_name|default:user.username }}</h2>
                    <p class="subtitle-text mb-0">Bienvenido a tu panel de control de multas</p>
                    <div class="mt-3" style="position: relative; z-index: 10;">
                        <a href="{% url 'dashboard' %}" class="btn btn-modern btn-secondary-modern" style="pointer-events: auto; cursor: pointer;">
                            üìä Mis Multas
                        </a>
                    </div>
                </div>
            </div>

            <!-- Contenido -->
            <div class="content-section">
                <!-- Tarjetas de estad√≠sticas mejoradas -->
                <div class="row g-4 mb-4">
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-icon total">
                                üìã
                            </div>
                            <h3 class="stat-number">{{ total_multas }}</h3>
                            <p class="stat-label">Multas Totales</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-icon pending">
                                ‚è≥
                            </div>
                            <h3 class="stat-number" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; color: transparent;">{{ pendientes }}</h3>
                            <p class="stat-label">Pendientes de Pago</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="stat-card">
                            <div class="stat-icon paid">
                                ‚úÖ
                            </div>
                            <h3 class="stat-number" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; color: transparent;">{{ pagadas }}</h3>
                            <p class="stat-label">Multas Pagadas</p>
                        </div>
                    </div>
                </div>

                <!-- Mensaje cuando no hay multas -->
                {% if not user_multas %}
                <div class="no-multas-card mt-4">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">üòä</div>
                    <h4 style="color: #2e7d32; font-weight: 700;">¬°Excelente!</h4>
                    <p style="color: #558b5f; font-size: 1.1rem; margin: 0;">
                        No tienes multas registradas en el sistema
                    </p>
                </div>
                {% endif %}

                <!-- Secci√≥n adicional de acciones r√°pidas -->
                <div class="row g-3 mt-4">
                    <div class="col-md-6">
                        <div class="card border-0 shadow-sm" style="border-radius: 15px;">
                            <div class="card-body p-4">
                                <h5 class="mb-3">üöó Gesti√≥n de Veh√≠culos</h5>
                                <p class="text-muted small mb-3">Registra tus veh√≠culos para un seguimiento personalizado</p>
                                <button class="btn btn-modern btn-primary-modern w-100" disabled>
                                    Pr√≥ximamente
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card border-0 shadow-sm" style="border-radius: 15px;">
                            <div class="card-body p-4">
                                <h5 class="mb-3">üîî Alertas Inteligentes</h5>
                                <p class="text-muted small mb-3">Recibe notificaciones proactivas sobre tus multas</p>
                                <button class="btn btn-modern btn-primary-modern w-100" disabled>
                                    Pr√≥ximamente
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}